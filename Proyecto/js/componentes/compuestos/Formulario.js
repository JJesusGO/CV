"use strict";const FormularioTipo={BASICO:0,SIMPLE:1};class Formulario extends React.Component{constructor(e){super(e),this.reset()}reset(){this.state={};let e=this.props.entradas;if(Array.isArray(e)){let t=[],r=[];for(let r=0;r<e.length;r++)if((!0!==e[r].readonly||Array.isArray(e[r].readonly))&&void 0!==e[r].id&&null!==e[r].id)if(Array.isArray(e[r].id))for(let o=0;o<e[r].id.length;o++)void 0!==e[r].readonly&&null!==e[r].readonly&&!0===e[r].readonly[o]||t.push(e[r].id[o]);else t.push(e[r].id);for(let e=0;e<t.length;e++)r.push("");this.state={id:t,entrada:r}}}input(e){this.actualizarEntrada(e.target),null!==this.props.onchange&&void 0!==this.props.onchange&&this.props.onchange(this.state)}submit(){void 0!==this.props.onsubmit&&this.props.onsubmit(this.state)}actualizarEntrada(e){let t=this.state.id,r=this.state.entrada;for(let o=0;o<t.length;o++)if("radio"===e.type&&e.name===document.getElementById(t[o]).name)r[o]=document.getElementById(t[o]).checked;else if(t[o]===e.id){if("SELECT"===e.nodeName){let e=$("#"+t[o]).val();1===e.length?r[o]=e[0]:e.length>=1?r[o]=e:r[o]=""}else"checkbox"===e.type?r[o]=e.checked:r[o]=e.value;break}this.setState({entrada:r})}renderFormulario(e,t,r){let o=null;return null!==t&&(o=React.createElement("form",{className:"panel-form",id:e,onSubmit:e=>{e.preventDefault()}},t)),null!==r&&(o=Array.isArray(r)?React.createElement("form",{className:"panel-form",id:e,onSubmit:e=>{e.preventDefault()}},r.map((e=>renderEntrada(e)))):React.createElement("form",{className:"panel-form",id:e,onSubmit:e=>{e.preventDefault()}},renderEntrada(r))),o}renderSimple(e,t,r,o,a){let n=this.renderFormulario(e,r,o),i=this.props.pie;return React.createElement(Panel,{tipo:PanelTipo.GRID_BASICO,encabezado:t,contenido:n,pie:i,clases:"overflow-hidden "+a})}renderBasico(e,t,r,o,a){let n=this.props.botonColor,i=this.props.botonContenido,s=(this.props.botonClases,React.createElement(Boton,{tipo:BotonTipo.RELLENO,contenido:i,color:n,clases:"w-100 p-basico",onclick:()=>this.submit()})),l=this.renderFormulario(e,r,o);return React.createElement(Panel,{tipo:PanelTipo.GRID_BASICO,encabezado:t,contenido:l,pie:s,clases:"overflow-hidden "+a})}componentDidMount(){let e=this.state.id;for(let t=0;t<e.length;t++){let r=document.getElementById(e[t]);r.addEventListener("input",(e=>this.input(e))),this.actualizarEntrada(r)}null!==this.props.onchange&&void 0!==this.props.onchange&&this.props.onchange(this.state)}render(){let e=this.props.tipo||FormularioTipo.BASICO,t=this.props.id||null,r=this.props.encabezado,o=this.props.contenido||null,a=this.props.entradas||null,n=this.props.clases||"",i=React.createElement("h1",null,"Error");switch(e){case FormularioTipo.SIMPLE:i=this.renderSimple(t,r,o,a,n);break;case FormularioTipo.BASICO:i=this.renderBasico(t,r,o,a,n)}return i}}